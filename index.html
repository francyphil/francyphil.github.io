<!doctype html>
<html lang="it">
  <head>
    <link rel="stylesheet" href="/common-bg.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home - Annulli Meccanici</title>
    <script src="/favicon-loader.js"></script>
    <link rel="preload" href="/services/fonts/PlayfairDisplay-Black.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="stylesheet" href="/services/fonts/fonts.css" />
    <link rel="stylesheet" href="/navbar/navbar.css" />
    <style>
      .catalog-row {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin: 40px 0;
        flex-wrap: wrap;
      }
      .catalog-box {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: white;
        border-radius: 18px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        padding: 24px 18px 18px 18px;
        min-width: 200px;
        max-width: 220px;
        transition: all 0.3s ease;
      }
      .catalog-box:hover {
        box-shadow: 0 8px 30px rgba(76, 175, 80, 0.25);
      }
      .catalog-label {
        margin-top: 14px;
        font-size: 1.15em;
        color: #333;
        font-weight: 500;
        text-align: center;
      }
      body {
        font-family: sans-serif;
        margin: 0;
        padding: 20px;
        margin-top: 55px;

        min-height: 100vh;
      }

      h1 {
        font-family: "Playfair Display", serif;
        font-size: 4em;
        font-weight: 900;
        text-align: center !important;
        margin: 60px 0 20px 0;
        background: linear-gradient(
          135deg,
          #2c3e50 0%,
          #34495e 50%,
          #2c3e50 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: 2px;
        text-transform: uppercase;
        position: relative;
        animation: fadeInDown 1s ease-out;
      }

      h1::after {
        content: "";
        position: absolute;
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
        width: 120px;
        height: 4px;
        background: linear-gradient(90deg, transparent, #4caf50, transparent);
        border-radius: 2px;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      body > p {
        text-align: center;
        font-size: 1.3em;
        color: #5a6c7d;
        font-weight: 300;
        margin-bottom: 50px;
        animation: fadeIn 1.2s ease-out;
      }

      .intro-text {
        max-width: 1200px;
        margin: 40px auto;
        text-align: center;
      }

      .intro-text p {
        font-size: 1.05em;
        color: #5a6c7d;
        line-height: 1.7;
        margin-bottom: 15px;
        text-align: justify;
      }

      .intro-text p:first-child {
        font-weight: 500;
        color: #2c3e50;
        margin-bottom: 20px;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .stats-container {
        max-width: 900px;
        margin: 50px auto;
        display: flex;
        justify-content: space-around;
        gap: 30px;
        flex-wrap: wrap;
      }

      .stat-box {
        background: white;
        border-radius: 15px;
        padding: 30px 40px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
        flex: 1;
        min-width: 100px;
      }

      .stat-box:hover {
        /* Hover animations disabled for counters: keep static appearance */
        transform: none;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .stat-number {
        font-size: 3em;
        font-weight: 700;
        color: #4caf50;
        margin: 0;
        line-height: 1.2;
      }

      .stat-label {
        font-size: 1em;
        color: #5a6c7d;
        margin-top: 8px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .catalog-img-link {
        display: inline-block;
        border-radius: 50%;
        overflow: hidden;
        width: 180px;
        height: 180px;
        border: 5px solid #4caf50;
        box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        transition: box-shadow 0.4s ease;
      }
      .catalog-img-circle {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }
      .catalog-img-link:hover {
        box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
      }
      .catalog-img-link:hover .catalog-img-circle {
        transform: scale(1.15);
      }

      /* Mobile responsive */
      @media (max-width: 768px) {
        h1 {
          font-size: 2em !important;
          margin: 30px 0 15px 0;
          letter-spacing: 1px;
        }

        h1::after {
          width: 80px;
          height: 3px;
          bottom: -10px;
        }

        body > p {
          font-size: 1em;
          margin-bottom: 30px;
        }

        .catalog-row {
          gap: 20px;
          margin: 20px 0;
        }

        .catalog-box {
          min-width: 140px;
          max-width: 160px;
          padding: 16px 12px 12px 12px;
        }

        .catalog-img-link {
          width: 120px;
          height: 120px;
          border-width: 3px;
        }

        .catalog-label {
          font-size: 0.95em;
          margin-top: 10px;
        }

        .intro-text {
          margin: 20px auto;
        }

        .intro-text p {
          font-size: 0.95em;
        }

        .stats-container {
          margin: 30px auto;
          gap: 15px;
          flex-direction: column;
          align-items: center;
        }

        .stat-box {
          padding: 20px 30px;
          min-width: 180px;
          width: 80%;
        }

        .stat-number {
          font-size: 2.2em;
        }

        .stat-label {
          font-size: 0.85em;
        }
      }
    </style>
  </head>
  <body>
    <h1>Annulli Meccanici</h1>
    <p>Benvenuto nel catalogo degli annulli meccanici Italiani!</p>

    <div class="catalog-row">
      <div class="catalog-box">
        <a href="/regno/indexRegno.html" class="catalog-img-link">
          <img
            src="static/jpeg/LogoRegno.jpeg"
            alt="Catalogo Regno"
            class="catalog-img-circle"
          />
        </a>
        <div class="catalog-label">Catalogo Regno</div>
      </div>
      <div class="catalog-box">
        <a href="/colonie/libia/catalogLibia.html" class="catalog-img-link">
          <img
            src="static/jpeg/LogoColonie.jpg"
            alt="Catalogo Libia"
            class="catalog-img-circle"
          />
        </a>
        <div class="catalog-label">Catalogo Libia</div>
      </div>
      <div class="catalog-box">
        <a href="/triestea/indexTriestea.html" class="catalog-img-link">
          <img
            src="static/jpeg/logoTrieste.jpg"
            alt="Catalogo Trieste A"
            class="catalog-img-circle"
          />
        </a>
        <div class="catalog-label">Catalogo Trieste A</div>
      </div>
    </div>

    <div class="intro-text">
      <p>Ciao a tutti!</p>
      <p>
        Questo sito nasce dalla passione per gli annulli meccanici italiani e
        vuole offrire un punto di riferimento non solo agli appassionati del
        settore, ma anche a collezionisti curiosi.
      </p>
      <p>
        Le catalogazioni esistenti non vengono aggiornate da anni e le nuove
        scoperte sono spesso disperse tra articoli di riviste e forum difficili
        da reperire. Da qui l'idea – semplice ma ambiziosa – di raccogliere
        tutto in un catalogo unico, aggiornato e facilmente consultabile.
      </p>
      <p>
        Si parte dagli annulli in uso nel Regno d'Italia, il periodo che
        consideriamo più interessante, con l'intenzione di estendere
        gradualmente il lavoro anche agli altri periodi
      </p>
    </div>

    <div class="stats-container">
      <div class="stat-box">
        <div class="stat-number" id="targhette-count">0</div>
        <div class="stat-label">Targhette Catalogate</div>
      </div>
      <div class="stat-box">
        <div class="stat-number" id="localita-count">0</div>
        <div class="stat-label">Località</div>
      </div>
      <div class="stat-box">
        <div class="stat-number" id="anni-span">0</div>
        <div class="stat-label">Pagine nel Sito</div>
      </div>
      <div class="stat-box">
        <div class="stat-number" id="immagini-count">0</div>
        <div class="stat-label">Immagini</div>
      </div>
    </div>
    <div id="catalogStatsContainer" class="catalog-stats-container"></div>

    <link rel="stylesheet" href="/footer/footer.css" />
    <script src="/footer/footer.js"></script>
    <div id="footerContainer"></div>
    <script>
      fetch("/footer/footer.html")
        .then((res) => res.text())
        .then((html) => {
          document.getElementById("footerContainer").innerHTML = html;
        });
    </script>
    <script src="/navbar/navbar.js"></script>
    <script src="/catalog-stats.js"></script>
    <script>
      // Carica le statistiche dal file generato da Python
      fetch("/static/statistics/site_stats.json")
        .then((res) => res.json())
        .then((stats) => {
          // Anima i contatori con i dati dal file
          animateCounter("targhette-count", stats.total_targhette, 2000);
          animateCounter("localita-count", stats.total_localita, 2000);
          animateCounter("anni-span", stats.total_pages, 2000);
          animateCounter("immagini-count", stats.total_images, 2000);
        })
        .catch((err) =>
          console.error("Errore nel caricamento delle statistiche:", err),
        );

      // Funzione per animare i contatori
      function animateCounter(elementId, targetValue, duration) {
        const element = document.getElementById(elementId);
        const startTime = performance.now();
        const startValue = 0;

        function updateCounter(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);

          // Easing function (easeOutQuad)
          const easeProgress = progress * (2 - progress);
          const currentValue = Math.floor(
            startValue + (targetValue - startValue) * easeProgress,
          );

          element.textContent = currentValue;

          if (progress < 1) {
            requestAnimationFrame(updateCounter);
          } else {
            element.textContent = targetValue;
          }
        }

        requestAnimationFrame(updateCounter);
      }
    </script>
  </body>
</html>
